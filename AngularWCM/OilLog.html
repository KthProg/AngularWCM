<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
    <script src="/scripts/js/wcm.js"></script>
    <script src="/scripts/js/form.js"></script>
    <script src="/scripts/js/table.js"></script>
    <script src="/scripts/js/record.js"></script>
    <script src="/scripts/js/imageupload.js"></script>
    <script src="/scripts/js/field.js"></script>
    <script src="/scripts/js/format.js"></script>

    <link rel="stylesheet" href="/css/Normalize.css" />

    <title>Oil Log</title>

    <style>
        td {
            padding: 5px;
            text-align: center;
            border: 1px solid grey;
        }

        input, select, textarea {
            border-radius: 0.25em;
        }

        *:invalid {
            color: red;
        }

        body {
            padding: 10px;
        }
    </style>

    <link rel="shortcut icon" href="/res/favicon.png" type="image/x-icon" />
</head>
<body ng-app="wcm"
      ng-controller="Form"
      ng-init="initialize('ODL', 'WCM', ['ODL'])">
    <table>
        <tr style="background-color: lightgrey;">
            <td>Date</td>
            <td>Oil Type</td>
            <td>Zone</td>
            <td>Machine</td>
            <td>Quantity</td>
        </tr>
        <tr ng-repeat="oilEntry in form.tables['ODL'].records">
            <td><field field="oilEntry.fields['ODLDate']" /></td>
            <td><field field="oilEntry.fields['OilType']" /></td>
            <td><field field="oilEntry.fields['ZoneID']" /></td>
            <td><field field="oilEntry.fields['MachineID']" /></td>
            <td><field field="oilEntry.fields['Qty']" /></td>
        </tr>
        <tr>
            <td colspan="5">
                <button ng-click="form.tables['ODL'].copyRecord(0);">Add Record</button>
            </td>
        </tr>
        <tr>
            <td colspan="5">
                <button ng-click="form.reset()">Reset</button>
                <button ng-click="form.executeQueries()">{{form.hasRecord ? "Update" : "Submit"}}</button>
            </td>
        </tr>
    </table>
</body>
</html>
