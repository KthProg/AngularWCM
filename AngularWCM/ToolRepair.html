<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta ng-model="fields['viewport" content="width=device-width, initial-scale=1">

    <script src="http://code.jquery.com/jquery-2.1.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.18/angular.min.js"></script>
    <script src="/scripts/js/wcm.js"></script>
    <script src="/scripts/js/form.js"></script>
    <script src="/scripts/js/ToolRepair.js"></script>

    <link rel="stylesheet" href="css/Normalize.css" />
    <link rel="stylesheet" href="css/FormClasses.css" />

    <title>Tool Repair Form</title>
</head>

<body ng-app="wcm"
      ng-controller="Form"
      ng-init="setFormData('Tool Repair');
      fields['IsService'] = 0;
      fields['ReportedBy'] = 'Justin Thomason';
      fields['Status'] = 1;">
    <table id="repairTable">
        <tr>
            <td width="30px"></td>
            <td width="200px"></td>
            <td width="200px"></td>
            <td width="200px"></td>
        </tr>
        <tr>
            <td colspan="3" class="dkgrey whitetext"><h1>Tool Repair Form</h1></td>
            <td class="dkgrey whitetext"><h2>Tool Repair #</h2>{{hasRecord ? id  + " (Updating)" : " (New Form)"}}</td>
        </tr>
        <tr>
            <td rowspan="16" class="red">T<br />o<br />o<br />l<br /> <br />R<br />e<br />p<br />a<br />i<br />r</td>
            <td class="red">Tool Description</td>
            <td colspan="2" class="red">Problems (semi-colon separated [a; b; c])</td>
        </tr>
        <tr>
            <td><input type="text" ng-model="fields['ToolName']" /></td>
            <td rowspan="11" colspan="2"><textarea ng-model="fields['Problems']"></textarea></td>
        </tr>
        <tr>
            <td class="red">Tool Number</td>
        </tr>
        <tr>
            <td>
                <select ng-model="fields['ToolNumber']" ng-options="v as v for (k,v) in queries['ToolNumber'].options" required></select>
            </td>
        </tr>
        <tr>
            <td class="red">Department</td>
        </tr>
        <tr>
            <td>
                <select ng-model="fields['Department']" ng-options="v as v for (k,v) in queries['Department'].options" required></select>
            </td>
        </tr>
        <tr>
            <td class="red">Zone</td>
        </tr>
        <tr>
            <td>
                <select ng-model="fields['Zone']" ng-options="v as v for (k,v) in queries['Zone'].options" required></select>
            </td>
        </tr>
        <tr>
            <td class="red">Machine</td>
        </tr>
        <tr>
            <td>
                <select ng-model="fields['Machine']" ng-options="v as v for (k,v) in queries['Machine'].options"></select>
            </td>
        </tr>
        <tr>
            <td class="red">Reported By</td>
        </tr>
        <tr>
            <td>
                <input type="text" ng-model="fields['ReportedBy']" />
            </td>
        </tr>
        <tr>
            <td class="red">Pick Up Date</td>
            <td class="red">Repair Location</td>
            <td class="red">Notes</td>
        </tr>
        <tr>
            <td><input type="date" ng-model="fields['DateShipped']" /></td>
            <td>
                <select ng-model="fields['RepairedLocation']" ng-options='v as v for (k,v) in ["Mayco","Mound"]'></select>
            </td>
            <td rowspan="3"><input type="text" ng-model="fields['Notes']" /></td>
        </tr>
        <tr>
            <td class="red">Due Date/Repair Date</td>
            <td class="red">Service</td>
        </tr>
        <tr>
            <td><input type="date" ng-model="fields['DateReceived']" /></td>
            <td><select ng-model="fields['IsService']" ng-options='k as v for (k,v) in [false,true]'></select></td>
        </tr>
    </table>
    <table>
        <tr>
            <td width="30px"></td>
            <td width="200px"></td>
            <td width="200px"></td>
            <td width="200px"></td>
        </tr>
        <tr>
            <td rowspan="9" class="ltblue">T<br />o<br />o<br />l<br /> <br />A<br />n<br />a<br />l<br />y<br />s<br />i<br />s</td>
        </tr>
        <tr>
            <td colspan="2" class="ltblue">Work Completed (semi-colon separated)</td>
            <td class="ltblue">Shift Repaired On</td>
        </tr>
        <tr>
            <td colspan="2" rowspan="5"><textarea ng-model="fields['ProblemsFixed']"></textarea></td>
            <td>
                <select ng-model="fields['RepairShift']" ng-options='v as v for (k,v) in [1,2,3] '></select>
            </td>
        </tr>
        <tr>
            <td class="ltblue">Repair Cost</td>
        </tr>
        <tr>
            <td><input type="number" ng-model="fields['RepairCost']" /></td>
        </tr>
        <tr>
            <td class="ltblue">Status (% Complete)</td>
        </tr>
        <tr>
            <td rowspan="3"><input type="range" ng-model="fields['Status']" min="0" max="1" step="0.01" value="1" /></td>
        </tr>
        <tr>
            <td class="ltblue">Work Approved By</td>
            <td class="ltblue">Repaired By</td>
        </tr>
        <tr>
            <td><input type="text" ng-model="fields['ApprovedBy']" /></td>
            <td><input type="text" ng-model="fields['RepairedBy']" /></td>
        </tr>
        <tr>
            <td colspan="4">
                <button ng-click="open()">Open</button>
                <button ng-click="clear()">Clear</button>
                <button ng-click="submit()" ng-show="!hasRecord">Submit</button>
                <button ng-click="update()" ng-show="hasRecord">Update</button>
            </td>
        </tr>
    </table>
    </form>
</body>
</html>